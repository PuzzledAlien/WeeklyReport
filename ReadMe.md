# 魔改说明

因为想要尝试将一个 .Net Framework 版本的项目完全迁移到 .Net Core 上，所以找到这个项目进行了魔改。魔改过程记录如下：

1. 将类库目标框架改为 netstandard2.1 和 netstandard2.0。

为什么是2.0和2.1并存？因为一开始降低了迁移难度，即先将类库改为netstandard，web升级到.Net Framework 4.8，保证 .Net Framework 版仍然可以正常使用。

2. 找到引用的微软企业类库的.Net Core实现。



# WeeklyReport    ------ 一个简单实用的周报系统。

## 这个系统本身没有什么技术上值得说的地方，很简单，适合中小企业或团队针对周报这一特定需求使用，所以本文只对功能做简单的介绍。

### 周报功能：
* 周报填写
	+ 以周为单位填写，可以切换年月和周次，可以填写多条并指定周次内的日期。填写时可关联到项目/子项目以便后续查询。
* 周报查询
	+ 可按个人、按组织机构、按项目查询。
* 周报考核
	+ 有考核权限的人，可以对被考核人的周报设置“已阅”状态，“已阅”状态的周报不可再修改。
* 统计
	+ 按组织架构统计哪些人已提交，哪些人未提交。
* 导出
	+ 可按个人、按组织架构、按项目将周报内容导出Excel文件。

### 系统设置：
* 组织机构
	+ 可以树结构的形式管理组织机构，以便周报查询中按组织机构查询。
* 人员
	+ 人员管理，可将人员关联到不同的项目中，使之只能填写及查询所属项目的周报。
* 角色
	+ 支持角色及权限分配。
* 基础数据
	+ 可自定义职位、职级、办公地点等扩展属性。
* 周报相关
	+ 可自定义项目/子项目、完成情况、考核关系。

### 系统截图：

* 周报填写：
	- 以周为单位填写，可以切换年月和周次，可以填写多条并指定周次内的日期。填写时可关联到项目/子项目以便后续查询。
	- 只有周一可以补写上周的周报，超过周一则只能填写本周周报。
	- 日期选择可自动判断当前是星期几，如果今天是周一，则可以选择上周一至本周一内的任意一天，如果今天是周二到周五中的某一天，则只能选择本周一到今天中的任意一天。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015037483-24759574.png)
* 按个人查询：
	- 支持权限控制，可控制只能查询自己的周报，或查询所有人的周报。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015116264-498527319.png)
* 按组织架构查询：
	- 支持权限控制，可控制只能查询自己所在组织架构的周报，或查询任意指定组织架构的周报。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015256842-783837077.png)
* 按项目查询 ：
	- 支持权限控制，只能查询自己所在项目的周报。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015315170-565052780.png)
* 考核：
	- 支持灵活控制考核人与被考核人的关联关系。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015414654-1435291832.png)
* 统计：
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015441404-1954488295.png)
* 导出Excel：
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015945029-1600416564.png)
* 设置-角色
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015628920-1045868261.png)
设置-周报相关-项目/子项目：
	- 支持权限控制，只能填写自己所属项目的周报。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015708436-577402790.png)
设置-周报相关-完成情况：
	- 可灵活设置完成情况的可选项，可设置成已完成、进行中，也可以设置成具体的完成百分比等。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015734686-398008939.png)
设置-周报相关-考核关系：
	- 考核人在“考核”界面可以查询并使用“已阅”功能处理被考核人的周报，“已阅”状态的周报将不再允许修改。
![](http://images2015.cnblogs.com/blog/78019/201703/78019-20170328015805889-134081475.png)

### 总结
* 这个周报系统大约写于2017年，缘起当时所带的开发团队需要逐步建立或完善一些项目管理方法。
* 在调研了网上的诸多项目管理或周报/日报管理系统之后，并没有找到符合当时情况的系统，这里最大的问题不是网上既有的系统功能不够，恰恰相反，是太过复杂。
* 于时当时花了一点点时间，写了一个比较简单但是实用的周报系统。最近陆续有几家公司购买并做了简单定制，于是我索性将原始版本（不含客制化内容，但修复了一些BUG）重新部署在公网上，免费开源给所有人使用。
* 这个系统本身没有什么技术上值得说的地方，很简单，适合中小企业或团队针对周报这一特定需求使用，所以本文只对功能做简单的介绍。
* 对于正好有这样需求的人的来说，可以直接在线使用，省得重新造轮子了吧，希望对你有用。

